# æ›´æ–°æ—¥å¿—

## [æ–°åŠŸèƒ½] æ‹–æ‹½å¡ç‰‡åˆ°åƒåœ¾æ¡¶é‡æ–°ç¢çº¸ - 2025-12-15

### åŠŸèƒ½æè¿°
å…¨æ–°çš„äº¤äº’æ–¹å¼ï¼å››å¼ çº¸æ¡ä»¥æ•£ä¹±çš„æ–¹å¼æ”¾ç½®åœ¨å±å¹•ä¸Šï¼Œç”¨æˆ·å¯ä»¥æ‹–åŠ¨ä»»æ„çº¸æ¡åˆ°åƒåœ¾æ¡¶ï¼Œä½¿ç”¨è¯¥çº¸æ¡çš„å†…å®¹ä½œä¸ºè¾“å…¥é‡æ–°ç”Ÿæˆå››å¼ æ–°çº¸æ¡ã€‚

### æ ¸å¿ƒç‰¹æ€§

#### 1. æ•£ä¹±å¸ƒå±€
- å››å¼ çº¸æ¡ä¸å†å †å ï¼Œè€Œæ˜¯æ•£ä¹±æ”¾ç½®åœ¨å±å¹•å››ä¸ªè±¡é™
- æ¯å¼ çº¸æ¡æœ‰éšæœºçš„ä½ç½®åç§»å’Œæ—‹è½¬è§’åº¦ï¼ˆÂ±15åº¦ï¼‰
- è¥é€ çœŸå®çš„çº¸æ¡æ•£è½æ•ˆæœ

#### 2. æ‹–æ‹½äº¤äº’
- æ‰€æœ‰çº¸æ¡éƒ½å¯ä»¥æ‹–åŠ¨
- æ‹–åŠ¨æ—¶çº¸æ¡åŠé€æ˜æ˜¾ç¤º
- å…‰æ ‡å˜ä¸ºæŠ“æ‰‹æ ·å¼ï¼ˆgrab/grabbingï¼‰

#### 3. åƒåœ¾æ¡¶ Drop Zone
- ä½ç½®ï¼šå±å¹•å³ä¸‹è§’
- æ‹–åŠ¨çº¸æ¡åˆ°åƒåœ¾æ¡¶ä¸Šæ–¹æ—¶ï¼š
  - åƒåœ¾æ¡¶æ”¾å¤§å¹¶é«˜äº®
  - æ˜¾ç¤º"æ¾æ‰‹ç¢çº¸ï¼"æç¤º
  - åƒåœ¾æ¡¶å›¾æ ‡è·³åŠ¨åŠ¨ç”»
- æ¾æ‰‹åï¼š
  - ä½¿ç”¨è¯¥çº¸æ¡çš„å†…å®¹ä½œä¸ºè¾“å…¥
  - é‡æ–°è°ƒç”¨AIç”Ÿæˆå››å¼ æ–°çº¸æ¡
  - æ–°çº¸æ¡ç»§ç»­æ•£ä¹±æ”¾ç½®

#### 4. ç•Œé¢ä¼˜åŒ–
- è¿”å›æŒ‰é’®ç§»è‡³å·¦ä¸‹è§’
- é¡¶éƒ¨æ˜¾ç¤ºç”Ÿæˆæ¬¡æ•°
- æç¤ºä¿¡æ¯ï¼š"ç‚¹å‡»å¡ç‰‡ç¿»é¢ Â· æ‹–åŠ¨å¡ç‰‡åˆ°åƒåœ¾æ¡¶é‡æ–°ç¢çº¸"

### ä½¿ç”¨æ–¹æ³•

1. **è¾“å…¥å¿ƒæƒ…å¹¶ç¢çº¸**
   - åœ¨è¾“å…¥æ¡†è¾“å…¥å¿ƒæƒ…æˆ–åæ§½
   - ç‚¹å‡»"ç¢ä¸€ä¸‹"æŒ‰é’®
   - ç­‰å¾…AIç”Ÿæˆå››ç§å›åº”

2. **æŸ¥çœ‹çº¸æ¡**
   - å››å¼ çº¸æ¡æ•£ä¹±æ”¾ç½®åœ¨å±å¹•ä¸Š
   - ç‚¹å‡»ä»»æ„çº¸æ¡å¯ä»¥ç¿»é¢æŸ¥çœ‹å†…å®¹
   - æ¯å¼ çº¸æ¡æ˜¾ç¤ºä¸åŒç±»å‹çš„å›åº”

3. **æ‹–æ‹½é‡æ–°ç¢çº¸**
   - é€‰æ‹©ä¸€å¼ ä½ å–œæ¬¢çš„çº¸æ¡
   - æŒ‰ä½é¼ æ ‡æ‹–åŠ¨åˆ°å³ä¸‹è§’çš„åƒåœ¾æ¡¶
   - åƒåœ¾æ¡¶ä¼šé«˜äº®å¹¶è·³åŠ¨
   - æ¾æ‰‹åï¼Œç”¨è¯¥çº¸æ¡çš„å†…å®¹é‡æ–°ç”Ÿæˆ

4. **ç»§ç»­æ¢ç´¢**
   - æ–°ç”Ÿæˆçš„å››å¼ çº¸æ¡ä¼šæ›¿æ¢æ—§çš„
   - å¯ä»¥ç»§ç»­æ‹–æ‹½ä»»æ„çº¸æ¡é‡æ–°ç”Ÿæˆ
   - ç‚¹å‡»å·¦ä¸‹è§’"è¾“å…¥æ–°å†…å®¹"è¿”å›è¾“å…¥ç•Œé¢

### äº¤äº’äº®ç‚¹

âœ¨ **ç›´è§‚çš„æ‹–æ‹½æ“ä½œ**ï¼šåƒç©çº¸ç‰Œä¸€æ ·è‡ªç„¶  
âœ¨ **æ•£ä¹±çš„è§†è§‰æ•ˆæœ**ï¼šæ›´æœ‰çœŸå®æ„Ÿå’Œè¶£å‘³æ€§  
âœ¨ **å³æ—¶çš„è§†è§‰åé¦ˆ**ï¼šæ‹–æ‹½æ—¶çš„é«˜äº®å’ŒåŠ¨ç”»  
âœ¨ **çµæ´»çš„é€‰æ‹©**ï¼šå¯ä»¥é€‰æ‹©ä»»æ„çº¸æ¡é‡æ–°ç¢çº¸  
âœ¨ **æ— é™çš„æ¢ç´¢**ï¼šä¸æ–­æ‹–æ‹½ï¼Œä¸æ–­å‘ç°æ–°å›åº”

### åº”ç”¨åœºæ™¯

**åœºæ™¯1ï¼šæ‰¾åˆ°æœ‰è¶£çš„å›åº”**
```
1. ç”Ÿæˆå››å¼ çº¸æ¡
2. å‘ç°"æ¯’é¸¡æ±¤"ç‰¹åˆ«æœ‰è¶£
3. æ‹–åŠ¨"æ¯’é¸¡æ±¤"çº¸æ¡åˆ°åƒåœ¾æ¡¶
4. ç”¨è¿™å¥è¯é‡æ–°ç”Ÿæˆå››å¼ æ–°çº¸æ¡
5. çœ‹çœ‹AIå¦‚ä½•æ‰©å±•è¿™å¥æ¯’é¸¡æ±¤
```

**åœºæ™¯2ï¼šæ·±å…¥æ¢ç´¢æŸä¸ªä¸»é¢˜**
```
1. è¾“å…¥ï¼š"ä»Šå¤©åŠ ç­å¥½ç´¯"
2. ç”Ÿæˆçš„"å¾®å°è¯´"å¾ˆæœ‰æ„æ€
3. æ‹–åŠ¨"å¾®å°è¯´"åˆ°åƒåœ¾æ¡¶
4. ç”¨å¾®å°è¯´çš„å†…å®¹é‡æ–°ç”Ÿæˆ
5. è·å¾—æ›´æ·±å…¥çš„æ•…äº‹å»¶ä¼¸
```

**åœºæ™¯3ï¼šåˆ›æ„é“¾å¼ç”Ÿæˆ**
```
1. è¾“å…¥åˆå§‹å¿ƒæƒ…
2. é€‰æ‹©æœ€æœ‰åˆ›æ„çš„å›åº”
3. æ‹–å…¥åƒåœ¾æ¡¶é‡æ–°ç”Ÿæˆ
4. å†é€‰æ‹©æ–°çš„æœ‰è¶£å›åº”
5. å½¢æˆåˆ›æ„é“¾æ¡ï¼Œè¶Šæ¥è¶Šæœ‰è¶£
```

### æŠ€æœ¯å®ç°

**ä¿®æ”¹çš„æ–‡ä»¶**ï¼š
1. `src/components/shred/PaperStrip.tsx`
   - æ·»åŠ æ‹–æ‹½åŠŸèƒ½ï¼ˆHTML5 Drag & Drop APIï¼‰
   - æ”¯æŒè‡ªå®šä¹‰ä½ç½®å’Œæ—‹è½¬è§’åº¦
   - æ‹–æ‹½æ—¶çš„è§†è§‰åé¦ˆ

2. `src/components/shred/CardStack.tsx`
   - æ”¹ä¸ºæ•£ä¹±å¸ƒå±€ï¼ˆå››ä¸ªè±¡é™éšæœºåˆ†å¸ƒï¼‰
   - æ·»åŠ åƒåœ¾æ¡¶ Drop Zone
   - å¤„ç†æ‹–æ‹½äº‹ä»¶å’Œé‡æ–°ç¢çº¸é€»è¾‘

**æ ¸å¿ƒä»£ç **ï¼š
```typescript
// ç”Ÿæˆéšæœºæ•£ä¹±ä½ç½®
const generateRandomPosition = (index: number) => {
  const quadrants = [
    { x: 30, y: 30 }, // å·¦ä¸Š
    { x: 70, y: 30 }, // å³ä¸Š
    { x: 30, y: 70 }, // å·¦ä¸‹
    { x: 70, y: 70 }, // å³ä¸‹
  ];
  
  const quadrant = quadrants[index % 4];
  
  return {
    x: quadrant.x + (Math.random() - 0.5) * 20,
    y: quadrant.y + (Math.random() - 0.5) * 20,
    rotation: (Math.random() - 0.5) * 30
  };
};

// å¤„ç†æ‹–æ‹½åˆ°åƒåœ¾æ¡¶
const handleDrop = (e: React.DragEvent) => {
  e.preventDefault();
  const content = e.dataTransfer.getData('text/plain');
  if (content && onReshred) {
    onReshred(content); // ç”¨çº¸æ¡å†…å®¹é‡æ–°ç¢çº¸
  }
};
```

### ç”¨æˆ·ä½“éªŒæ”¹è¿›

**æ”¹è¿›å‰ï¼ˆv1.2ï¼‰**ï¼š
- âŒ å››å¼ çº¸æ¡å †å åœ¨ä¸€èµ·
- âŒ åªèƒ½ç”¨åŸå§‹è¾“å…¥é‡æ–°ç”Ÿæˆ
- âŒ éœ€è¦ç‚¹å‡»æŒ‰é’®æ“ä½œ
- âŒ è§†è§‰æ•ˆæœå•ä¸€

**æ”¹è¿›åï¼ˆv1.3ï¼‰**ï¼š
- âœ… å››å¼ çº¸æ¡æ•£ä¹±æ”¾ç½®ï¼Œæ›´æœ‰è¶£
- âœ… å¯ä»¥ç”¨ä»»æ„çº¸æ¡çš„å†…å®¹é‡æ–°ç”Ÿæˆ
- âœ… æ‹–æ‹½æ“ä½œï¼Œæ›´ç›´è§‚è‡ªç„¶
- âœ… ä¸°å¯Œçš„è§†è§‰åé¦ˆå’ŒåŠ¨ç”»

### è®¾è®¡ç»†èŠ‚

**çº¸æ¡å¸ƒå±€**ï¼š
- å››ä¸ªè±¡é™åˆ†å¸ƒï¼ˆå·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹ã€å³ä¸‹ï¼‰
- æ¯ä¸ªè±¡é™Â±10%éšæœºåç§»
- Â±15åº¦éšæœºæ—‹è½¬
- ä½¿ç”¨useMemoå›ºå®šä½ç½®ï¼Œé¿å…é‡æ–°æ¸²æŸ“æ—¶è·³åŠ¨

**æ‹–æ‹½åé¦ˆ**ï¼š
- æ‹–åŠ¨æ—¶ï¼šçº¸æ¡åŠé€æ˜ï¼ˆopacity-50ï¼‰
- å…‰æ ‡ï¼šgrab â†’ grabbing
- æ‹–åˆ°åƒåœ¾æ¡¶ï¼šåƒåœ¾æ¡¶æ”¾å¤§110%ã€é«˜äº®ã€è·³åŠ¨

**åƒåœ¾æ¡¶è®¾è®¡**ï¼š
- ä½ç½®ï¼šå³ä¸‹è§’å›ºå®š
- å°ºå¯¸ï¼šç§»åŠ¨ç«¯32Ã—32ï¼Œæ¡Œé¢ç«¯40Ã—40
- çŠ¶æ€ï¼š
  - é»˜è®¤ï¼šåŠé€æ˜å¡ç‰‡èƒŒæ™¯
  - æ‚¬åœï¼šä¸é€æ˜å¡ç‰‡èƒŒæ™¯
  - æ‹–å…¥ï¼šä¸»é¢˜è‰²èƒŒæ™¯ã€æ”¾å¤§ã€è·³åŠ¨

---

## [æ–°åŠŸèƒ½] é€‰æ‹©ç”Ÿæˆçš„å¡ç‰‡é‡æ–°ç¢çº¸ - 2025-12-15

### åŠŸèƒ½æè¿°
ç”¨æˆ·ç°åœ¨å¯ä»¥é€‰æ‹©å·²ç»ç”Ÿæˆçš„å¡ç‰‡ï¼Œä½¿ç”¨å…¶åŸå§‹æ–‡æœ¬é‡æ–°è¿›è¡Œç¢çº¸ï¼Œæ— éœ€æ‰‹åŠ¨é‡æ–°è¾“å…¥ã€‚

### æ–°å¢åŠŸèƒ½

#### 1. ä¿å­˜åŸå§‹æ–‡æœ¬
åœ¨`ShredResponse`æ¥å£ä¸­æ·»åŠ `originalText`å­—æ®µï¼Œä¿å­˜ç”¨æˆ·çš„åŸå§‹è¾“å…¥ã€‚

```typescript
export interface ShredResponse {
  darkCheer: string;
  toxicSoup: string;
  microStory: string;
  deepQuote: string;
  originalText: string; // æ–°å¢ï¼šä¿å­˜åŸå§‹è¾“å…¥æ–‡æœ¬
}
```

#### 2. å¡ç‰‡å †å ç•Œé¢æ”¹è¿›
åœ¨å¡ç‰‡å †å ç•Œé¢æ·»åŠ äº†ä¸¤ä¸ªæŒ‰é’®ï¼š
- **ç”¨è¿™å¼ å†ç¢ ğŸ”„**ï¼šä½¿ç”¨å½“å‰å¡ç‰‡çš„åŸå§‹æ–‡æœ¬é‡æ–°ç”Ÿæˆå››ç§å›åº”
- **è¾“å…¥æ–°å†…å®¹ âœ¨**ï¼šå…³é—­å¡ç‰‡å †å ï¼Œè¿”å›è¾“å…¥ç•Œé¢

#### 3. åŸå§‹æ–‡æœ¬æ˜¾ç¤º
åœ¨å¡ç‰‡å †å ç•Œé¢é¡¶éƒ¨æ˜¾ç¤ºå½“å‰å¡ç‰‡çš„åŸå§‹ç¢å¿µå†…å®¹ï¼Œæ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹ã€‚

### ä½¿ç”¨æ–¹æ³•

1. è¾“å…¥å¿ƒæƒ…æˆ–åæ§½ï¼Œç‚¹å‡»"ç¢ä¸€ä¸‹"
2. æŸ¥çœ‹ç”Ÿæˆçš„å››å¼ çº¸æ¡
3. å¦‚æœæƒ³ç”¨ç›¸åŒçš„æ–‡æœ¬é‡æ–°ç”Ÿæˆï¼š
   - ç‚¹å‡»"ç”¨è¿™å¼ å†ç¢ ğŸ”„"æŒ‰é’®
   - ç³»ç»Ÿä¼šä½¿ç”¨ç›¸åŒçš„æ–‡æœ¬é‡æ–°è°ƒç”¨AI
   - ç”Ÿæˆæ–°çš„å››ç§å›åº”
4. å¦‚æœæƒ³è¾“å…¥æ–°å†…å®¹ï¼š
   - ç‚¹å‡»"è¾“å…¥æ–°å†…å®¹ âœ¨"æŒ‰é’®
   - è¿”å›è¾“å…¥ç•Œé¢

### æŠ€æœ¯å®ç°

**ä¿®æ”¹çš„æ–‡ä»¶**ï¼š
- `src/services/ai.ts`ï¼šæ·»åŠ `originalText`å­—æ®µåˆ°è¿”å›æ•°æ®
- `src/components/shred/CardStack.tsx`ï¼šæ·»åŠ é‡æ–°ç¢çº¸æŒ‰é’®å’ŒåŸå§‹æ–‡æœ¬æ˜¾ç¤º
- `src/pages/HomePage.tsx`ï¼šæ·»åŠ `handleReshred`å¤„ç†å‡½æ•°

**æ ¸å¿ƒä»£ç **ï¼š
```typescript
// åœ¨ generateShredResponses ä¸­ä¿å­˜åŸå§‹æ–‡æœ¬
resolve({
  darkCheer: parsed.darkCheer,
  toxicSoup: parsed.toxicSoup,
  microStory: parsed.microStory,
  deepQuote: parsed.deepQuote,
  originalText: userInput // ä¿å­˜åŸå§‹è¾“å…¥
});

// åœ¨ HomePage ä¸­å¤„ç†é‡æ–°ç¢çº¸
const handleReshred = async (text: string) => {
  setShowStack(false);
  setTimeout(() => {
    handleShred(text);
  }, 300);
};
```

### ç”¨æˆ·ä½“éªŒæ”¹è¿›

**æ”¹è¿›å‰**ï¼š
- ç”¨æˆ·æƒ³é‡æ–°ç”Ÿæˆç›¸åŒå†…å®¹çš„å›åº”æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨é‡æ–°è¾“å…¥
- æ— æ³•æŸ¥çœ‹åŸå§‹è¾“å…¥çš„å†…å®¹

**æ”¹è¿›å**ï¼š
- âœ… ä¸€é”®é‡æ–°ç”Ÿæˆï¼Œæ— éœ€é‡æ–°è¾“å…¥
- âœ… æ˜¾ç¤ºåŸå§‹ç¢å¿µå†…å®¹
- âœ… æµç•…çš„åŠ¨ç”»è¿‡æ¸¡
- âœ… æ¸…æ™°çš„æŒ‰é’®åŒºåˆ†ï¼ˆé‡æ–°ç¢ vs æ–°å†…å®¹ï¼‰

### åº”ç”¨åœºæ™¯

1. **å¯¹ç»“æœä¸æ»¡æ„**ï¼šæƒ³ç”¨ç›¸åŒçš„æ–‡æœ¬é‡æ–°ç”Ÿæˆä¸åŒçš„å›åº”
2. **æ¯”è¾ƒæ•ˆæœ**ï¼šå¤šæ¬¡ç”Ÿæˆï¼Œé€‰æ‹©æœ€å–œæ¬¢çš„å›åº”
3. **æŸ¥çœ‹åŸæ–‡**ï¼šå¿˜è®°è‡ªå·±è¾“å…¥äº†ä»€ä¹ˆï¼Œå¯ä»¥åœ¨ç•Œé¢ä¸ŠæŸ¥çœ‹

---

## [ä¿®å¤] AIè¿”å›æ ¼å¼é”™è¯¯é—®é¢˜ - 2025-12-15

### é—®é¢˜æè¿°
AIè¿”å›çš„å†…å®¹å¯èƒ½åŒ…å«markdownä»£ç å—æ ‡è®°æˆ–é¢å¤–æ–‡å­—ï¼Œå¯¼è‡´JSONè§£æå¤±è´¥ã€‚

### è§£å†³æ–¹æ¡ˆ

#### 1. æ–°å¢JSONæå–å‡½æ•° (`src/services/ai.ts`)

```typescript
const extractJSON = (text: string): string => {
  // ç§»é™¤å¯èƒ½çš„markdownä»£ç å—æ ‡è®°
  let cleaned = text.trim();
  
  // ç§»é™¤ ```json æˆ– ``` å¼€å¤´
  cleaned = cleaned.replace(/^```json\s*/i, '');
  cleaned = cleaned.replace(/^```\s*/, '');
  
  // ç§»é™¤ ``` ç»“å°¾
  cleaned = cleaned.replace(/\s*```\s*$/, '');
  
  // æŸ¥æ‰¾ç¬¬ä¸€ä¸ª { å’Œæœ€åä¸€ä¸ª }
  const firstBrace = cleaned.indexOf('{');
  const lastBrace = cleaned.lastIndexOf('}');
  
  if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {
    cleaned = cleaned.substring(firstBrace, lastBrace + 1);
  }
  
  return cleaned.trim();
};
```

**åŠŸèƒ½**ï¼š
- è‡ªåŠ¨ç§»é™¤markdownä»£ç å—æ ‡è®°ï¼ˆ```json å’Œ ```ï¼‰
- æå–ç¬¬ä¸€ä¸ª `{` åˆ°æœ€åä¸€ä¸ª `}` ä¹‹é—´çš„å†…å®¹
- æ¸…ç†å¤šä½™çš„ç©ºç™½å­—ç¬¦

#### 2. æ”¹è¿›System Prompt

**æ›´æ–°å‰**ï¼š
```
ä½ æ˜¯ç¢çº¸æœºé‡Œçš„æ¯’èˆŒå°ç²¾çµï¼Œè¯·æŠŠç”¨æˆ·è¾“å…¥å½“æˆç‡ƒæ–™ï¼Œä¸¥æ ¼æŒ‰ä»¥ä¸‹JSONæ ¼å¼è¿”å›...
```

**æ›´æ–°å**ï¼š
```
ä½ æ˜¯ç¢çº¸æœºé‡Œçš„æ¯’èˆŒå°ç²¾çµã€‚ç”¨æˆ·ä¼šè¾“å…¥ä»–ä»¬çš„å¿ƒæƒ…ã€åæ§½æˆ–ç¢ç¢å¿µï¼Œä½ éœ€è¦ç”Ÿæˆå››ç§ä¸åŒé£æ ¼çš„å›åº”ã€‚

ã€é‡è¦ã€‘ä½ çš„å›å¤å¿…é¡»æ˜¯çº¯JSONæ ¼å¼ï¼Œä¸è¦æ·»åŠ ä»»ä½•markdownæ ‡è®°ï¼ˆå¦‚```jsonï¼‰ï¼Œä¸è¦æ·»åŠ ä»»ä½•è§£é‡Šæ–‡å­—ï¼Œåªè¿”å›JSONå¯¹è±¡ã€‚

JSONæ ¼å¼è¦æ±‚ï¼š
{
  "darkCheer": "è¶Šä¸§è¶Šç‡ƒçš„é»‘æš—æ¿€åŠ±è¯è¯­ï¼Œ30å­—ä»¥å†…",
  "toxicSoup": "ä¸€é’ˆè§è¡€çš„æ¯’é¸¡æ±¤ç°å®æ„Ÿæ‚Ÿï¼Œ30å­—ä»¥å†…",
  "microStory": "30å­—å¾®å°è¯´ï¼Œè¦æœ‰åè½¬",
  "deepQuote": "å‡è£…æ·±åˆ»çš„å“²ç†åè¨€ï¼Œ30å­—ä»¥å†…"
}

ç¤ºä¾‹ï¼š
ç”¨æˆ·è¾“å…¥ï¼šä»Šå¤©åˆåŠ ç­åˆ°å¾ˆæ™šï¼Œå¥½ç´¯
ä½ çš„å›å¤ï¼š
{"darkCheer":"ç´¯ï¼Ÿé‚£æ˜¯å› ä¸ºä½ è¿˜æœ‰è¢«å‰¥å‰Šçš„ä»·å€¼ï¼Œæ­å–œï¼","toxicSoup":"åŠ ç­ä¸ä¼šè®©ä½ å˜å¼ºï¼Œåªä¼šè®©è€æ¿çš„è½¦å˜è±ªã€‚","microStory":"ä»–åŠ ç­åˆ°æ·±å¤œã€‚ç¬¬äºŒå¤©ï¼Œè€æ¿å¤¸ä»–å‹¤å¥‹ã€‚ç¬¬ä¸‰å¤©ï¼Œä»–è¢«ä¼˜åŒ–äº†ã€‚","deepQuote":"å½“ä½ è§‰å¾—ç´¯çš„æ—¶å€™ï¼Œè¯´æ˜ä½ è¿˜åœ¨å‘ä¸Šçˆ¬ã€‚èººå¹³çš„äººä»ä¸å–Šç´¯ã€‚"}

è®°ä½ï¼šç›´æ¥è¿”å›JSONå¯¹è±¡ï¼Œä¸è¦ç”¨```åŒ…è£¹ï¼
```

**æ”¹è¿›ç‚¹**ï¼š
- æ˜ç¡®è¦æ±‚ä¸ä½¿ç”¨markdownä»£ç å—
- æä¾›å…·ä½“çš„ç¤ºä¾‹è¾“å…¥å’Œè¾“å‡º
- å¼ºè°ƒå¿…é¡»ç›´æ¥è¿”å›JSONå¯¹è±¡
- ä½¿ç”¨ã€é‡è¦ã€‘æ ‡è®°å…³é”®è¦æ±‚

#### 3. å¢å¼ºæ•°æ®éªŒè¯

```typescript
onComplete: () => {
  try {
    const cleanedResponse = extractJSON(fullResponse);
    console.log('æ¸…ç†åçš„å“åº”:', cleanedResponse);
    const parsed = JSON.parse(cleanedResponse);
    
    // éªŒè¯è¿”å›çš„æ•°æ®åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ
    if (!parsed.darkCheer || !parsed.toxicSoup || !parsed.microStory || !parsed.deepQuote) {
      console.warn('AIè¿”å›æ•°æ®ä¸å®Œæ•´:', parsed);
      reject(new Error('AIè¿”å›æ•°æ®ä¸å®Œæ•´ï¼Œè¯·é‡è¯•'));
      return;
    }
    
    resolve({
      darkCheer: parsed.darkCheer,
      toxicSoup: parsed.toxicSoup,
      microStory: parsed.microStory,
      deepQuote: parsed.deepQuote
    });
  } catch (error) {
    console.error('è§£æé”™è¯¯ï¼ŒåŸå§‹å“åº”:', fullResponse);
    console.error('é”™è¯¯è¯¦æƒ…:', error);
    reject(new Error(`AIè¿”å›æ ¼å¼é”™è¯¯ï¼Œè¯·é‡è¯•`));
  }
}
```

**æ”¹è¿›ç‚¹**ï¼š
- éªŒè¯æ‰€æœ‰å¿…éœ€å­—æ®µæ˜¯å¦å­˜åœ¨
- æ·»åŠ è¯¦ç»†çš„consoleæ—¥å¿—ç”¨äºè°ƒè¯•
- æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

#### 4. å‹å¥½çš„é”™è¯¯æç¤º (`src/pages/HomePage.tsx`)

```typescript
catch (error) {
  console.error('ç¢çº¸å¤±è´¥:', error);
  
  // æ ¹æ®é”™è¯¯ç±»å‹æä¾›ä¸åŒçš„æç¤º
  let errorMessage = 'è¯·ç¨åé‡è¯•';
  if (error instanceof Error) {
    if (error.message.includes('æ ¼å¼é”™è¯¯')) {
      errorMessage = 'AIå°ç²¾çµæ‰“çŒç¡äº†ï¼Œè¯·å†è¯•ä¸€æ¬¡ ğŸ˜´';
    } else if (error.message.includes('ä¸å®Œæ•´')) {
      errorMessage = 'AIå°ç²¾çµå·æ‡’äº†ï¼Œè¯·å†è¯•ä¸€æ¬¡ ğŸ˜…';
    } else if (error.message.includes('ç½‘ç»œ')) {
      errorMessage = 'ç½‘ç»œè¿æ¥ä¸ç¨³å®šï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯• ğŸ“¡';
    } else {
      errorMessage = error.message;
    }
  }
  
  toast({
    title: 'ç¢çº¸å¤±è´¥ ğŸ’”',
    description: errorMessage,
    variant: 'destructive'
  });
}
```

**æ”¹è¿›ç‚¹**ï¼š
- æ ¹æ®é”™è¯¯ç±»å‹æä¾›ä¸åŒçš„å‹å¥½æç¤º
- ä½¿ç”¨emojiå¢åŠ è¶£å‘³æ€§
- ä¿æŒåƒç´ é£æ ¼çš„å¹½é»˜æ„Ÿ

### æµ‹è¯•å»ºè®®

1. **æ­£å¸¸æƒ…å†µ**ï¼šè¾“å…¥"ä»Šå¤©å¥½ç´¯"ï¼Œåº”è¯¥æ­£å¸¸è¿”å›å››ç§å›åº”
2. **ç‰¹æ®Šå­—ç¬¦**ï¼šè¾“å…¥"ä¸ºä»€ä¹ˆï¼ï¼ï¼ğŸ˜­"ï¼Œåº”è¯¥æ­£å¸¸å¤„ç†
3. **é•¿æ–‡æœ¬**ï¼šè¾“å…¥è¶…è¿‡100å­—çš„å†…å®¹ï¼Œåº”è¯¥æ­£å¸¸å¤„ç†
4. **ç½‘ç»œé—®é¢˜**ï¼šæ–­ç½‘æƒ…å†µä¸‹ï¼Œåº”è¯¥æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º

### è°ƒè¯•æ–¹æ³•

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹Consoleæ ‡ç­¾ï¼š

1. **æˆåŠŸæƒ…å†µ**ï¼š
   ```
   æ¸…ç†åçš„å“åº”: {"darkCheer":"...","toxicSoup":"...","microStory":"...","deepQuote":"..."}
   ```

2. **æ ¼å¼é”™è¯¯**ï¼š
   ```
   è§£æé”™è¯¯ï¼ŒåŸå§‹å“åº”: [AIè¿”å›çš„å†…å®¹]
   é”™è¯¯è¯¦æƒ…: [é”™è¯¯ä¿¡æ¯]
   ```

3. **æ•°æ®ä¸å®Œæ•´**ï¼š
   ```
   AIè¿”å›æ•°æ®ä¸å®Œæ•´: {darkCheer: "...", toxicSoup: "..."}
   ```

### ç›¸å…³æ–‡æ¡£

- è¯¦ç»†è°ƒè¯•æŒ‡å—ï¼š`AI_DEBUG_GUIDE.md`
- APIæœåŠ¡ä»£ç ï¼š`src/services/ai.ts`
- ä¸»é¡µé¢ä»£ç ï¼š`src/pages/HomePage.tsx`

### å½±å“èŒƒå›´

- âœ… ä¸å½±å“ç°æœ‰åŠŸèƒ½
- âœ… å‘åå…¼å®¹
- âœ… æé«˜äº†ç³»ç»Ÿç¨³å®šæ€§
- âœ… æ”¹å–„äº†ç”¨æˆ·ä½“éªŒ

### åç»­ä¼˜åŒ–å»ºè®®

1. **æ·»åŠ é‡è¯•æœºåˆ¶**ï¼šè‡ªåŠ¨é‡è¯•å¤±è´¥çš„è¯·æ±‚ï¼ˆæœ€å¤š3æ¬¡ï¼‰
2. **æ·»åŠ å¤‡ç”¨å“åº”**ï¼šå½“AIå¤šæ¬¡å¤±è´¥æ—¶ï¼Œè¿”å›é¢„è®¾çš„å¹½é»˜å›åº”
3. **æ·»åŠ åŠ è½½è¿›åº¦**ï¼šæ˜¾ç¤ºAIç”Ÿæˆçš„è¿›åº¦ï¼ˆå·²ç”Ÿæˆå‡ ä¸ªå›åº”ï¼‰
4. **æ·»åŠ ç¼“å­˜æœºåˆ¶**ï¼šç¼“å­˜ç›¸åŒè¾“å…¥çš„ç»“æœï¼Œå‡å°‘APIè°ƒç”¨

---

## [åˆå§‹ç‰ˆæœ¬] ç¢å¿µå°æ ˆ - 2025-12-15

### åŠŸèƒ½ç‰¹æ€§

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… ç”¨æˆ·è¾“å…¥å¿ƒæƒ…å¡ç‰‡
- âœ… AIç”Ÿæˆå››ç§é£æ ¼å›åº”ï¼ˆé»‘æš—æ¿€åŠ±ã€æ¯’é¸¡æ±¤ã€å¾®å°è¯´ã€å“²ç†åè¨€ï¼‰
- âœ… ç¢çº¸æœºåŠ¨ç”»æ•ˆæœ
- âœ… å¡ç‰‡ç¿»é¢äº¤äº’
- âœ… æ‰‘å…‹ç‰Œå¼å æ”¾
- âœ… è¿ç»­ç¢çº¸åŠŸèƒ½

#### ç‰¹æ®ŠåŠŸèƒ½
- âœ… èƒŒæ™¯åƒç´ çŒ«åŠ¨ç”»
- âœ… ç¬¬7å¼ æ—¶å¡”ä½“æ™ƒåŠ¨æé†’
- âœ… åˆå¤œæ¨¡å¼ï¼ˆ0:00-6:00è‡ªåŠ¨åˆ‡æ¢ï¼‰
- âœ… æ˜Ÿæ˜Ÿé—ªçƒç‰¹æ•ˆ

#### è®¾è®¡é£æ ¼
- âœ… 8-bitåƒç´ æ¸¸æˆé£æ ¼
- âœ… Press Start 2Påƒç´ å­—ä½“
- âœ… ç™½å¤©/åˆå¤œåŒé…è‰²æ–¹æ¡ˆ
- âœ… ç²—çº¿æ¡è¾¹æ¡†å’Œæ˜æ˜¾åœ†è§’
- âœ… é¢—ç²’æ„Ÿè§†è§‰æ•ˆæœ

#### æŠ€æœ¯å®ç°
- âœ… React 18 + TypeScript + Vite
- âœ… shadcn/ui + Tailwind CSS
- âœ… é˜¿é‡Œäº‘ç™¾ç‚¼AI APIé›†æˆ
- âœ… æµå¼å“åº”å¤„ç†
- âœ… å“åº”å¼è®¾è®¡

### ç»„ä»¶ç»“æ„

```
src/components/shred/
â”œâ”€â”€ InputCard.tsx      # è¾“å…¥å¡ç‰‡
â”œâ”€â”€ ShredMachine.tsx   # ç¢çº¸æœºåŠ¨ç”»
â”œâ”€â”€ PaperStrip.tsx     # çº¸æ¡å¡ç‰‡
â”œâ”€â”€ CardStack.tsx      # å¡ç‰‡å †å 
â””â”€â”€ PixelCat.tsx       # åƒç´ çŒ«åŠ¨ç”»
```

### é¡µé¢ç»“æ„

```
src/pages/
â””â”€â”€ HomePage.tsx       # ä¸»é¡µé¢
```

### æœåŠ¡æ¥å£

```
src/services/
â””â”€â”€ ai.ts             # AIæœåŠ¡æ¥å£
```

---

**ç»´æŠ¤è€…**ï¼šç¢å¿µå°æ ˆå¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**ï¼š2025-12-15
